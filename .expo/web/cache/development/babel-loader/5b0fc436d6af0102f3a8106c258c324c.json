{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/ssuarezs/Gridman/TPI-25/screens/visDet.js\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { AsyncStorage } from \"react-native-web/dist/index\";\nimport Map from \"./components/Map\";\nimport Modal from \"./components/modal\";\nimport Input from \"./components/input\";\nexport default (function (_ref) {\n  var navigation = _ref.navigation;\n  var location = navigation.getParam('location');\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      nombre = _useState2[0],\n      setNombre = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      puntos = _useState4[0],\n      setPuntos = _useState4[1];\n\n  var _useState5 = useState({\n    latitude: 0,\n    longitude: 0\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      posicion = _useState6[0],\n      setPosicion = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      mVisibility = _useState8[0],\n      setMVisibility = _useState8[1];\n\n  var obtenerPuntos = function obtenerPuntos() {\n    var obtenidos, listaPuntos;\n    return _regeneratorRuntime.async(function obtenerPuntos$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('listaPuntos2'));\n\n          case 2:\n            obtenidos = _context.sent;\n            listaPuntos = JSON.parse(obtenidos);\n\n            if (listaPuntos !== null) {\n              setPuntos(listaPuntos);\n            }\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var submitPuntos = function submitPuntos() {\n    var newPuntos, treta, guardados;\n    return _regeneratorRuntime.async(function submitPuntos$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            newPuntos = [{\n              coordinate: posicion,\n              name: nombre\n            }];\n            treta = puntos.concat(newPuntos);\n            guardados = JSON.stringify(treta);\n            _context2.next = 5;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem('listaPuntos2', guardados));\n\n          case 5:\n            obtenerPuntos();\n            console.log('puntos', puntos);\n            setNombre('');\n            setMVisibility(false);\n\n          case 9:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var handleName = function handleName(text) {\n    setNombre(text);\n  };\n\n  useEffect(function () {\n    setPosicion({\n      latitude: location.latitude,\n      longitude: location.longitude\n    });\n    obtenerPuntos();\n    console.log('puntos', puntos);\n  }, []);\n  return React.createElement(React.Fragment, null, React.createElement(Modal, {\n    visibility: mVisibility,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 6\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 8\n    }\n  }, \"Quieres guardar este Punto?\"), React.createElement(Input, {\n    title: \"Nombre Punto\",\n    placeholder: \"Escribe nombre...\",\n    onChangeText: handleName,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 2\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: submitPuntos,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 6\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 8\n    }\n  }, \"Aceptar\")), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      setMVisibility(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 6\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 8\n    }\n  }, \"Cancelar\"))), React.createElement(View, {\n    style: styles.guardar,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      setMVisibility(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 6\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 8\n    }\n  }, \"Guardar Punto\"))), React.createElement(View, {\n    style: styles.mapa,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }, React.createElement(Map, {\n    posicion: posicion,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  })), React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, \"Pagina Visualizar Determinantes\")));\n});\nvar styles = StyleSheet.create({\n  container: {\n    flex: 15,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  mapa: {\n    flex: 6\n  },\n  guardar: {\n    flex: 1.5,\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n});","map":{"version":3,"sources":["/home/ssuarezs/Gridman/TPI-25/screens/visDet.js"],"names":["React","useState","useEffect","AsyncStorage","Map","Modal","Input","navigation","location","getParam","nombre","setNombre","puntos","setPuntos","latitude","longitude","posicion","setPosicion","mVisibility","setMVisibility","obtenerPuntos","getItem","obtenidos","listaPuntos","JSON","parse","submitPuntos","newPuntos","coordinate","name","treta","concat","guardados","stringify","setItem","console","log","handleName","text","styles","guardar","mapa","container","StyleSheet","create","flex","backgroundColor","alignItems","justifyContent"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { StyleSheet, Text, View, Dimensions, TouchableOpacity, AsyncStorage } from 'react-native';\nimport Map from './components/Map' \nimport Modal from './components/modal' \nimport Input from './components/input' \n\nexport default ({navigation}) => {\n\n  const location = navigation.getParam('location')\n\n  const [nombre, setNombre] = useState('')\n  const [puntos, setPuntos] = useState([])\n  const [posicion, setPosicion] = useState({ latitude: 0, longitude: 0, })\n  const [mVisibility, setMVisibility] = useState(false)\n \n  const obtenerPuntos = async () => {\n    const obtenidos = await AsyncStorage.getItem('listaPuntos2')\n    const listaPuntos= JSON.parse(obtenidos)\n    if(listaPuntos !== null){\n      setPuntos(listaPuntos)\n    }\n  }\n\n  const submitPuntos = async () => {\n    const newPuntos = [{coordinate: posicion, name: nombre}]\n    const treta= puntos.concat(newPuntos)\n    const guardados = JSON.stringify(treta)\n    await AsyncStorage.setItem(\n      'listaPuntos2',\n      guardados\n    )\n    obtenerPuntos()\n      console.log('puntos', puntos)\n    setNombre('')\n    setMVisibility(false)\n  }\n\n  const handleName = (text) => {\n    setNombre(text)\n  }\n\n  useEffect(() => {\n    setPosicion({ \n\tlatitude: location.latitude,\n\tlongitude: location.longitude,\n      })\n    obtenerPuntos()\n      console.log('puntos', puntos)\n  }, [])\n\n\n   return (\n    <>\n     <Modal visibility={mVisibility}>   \n       <Text>Quieres guardar este Punto?</Text>\n\t<Input title=\"Nombre Punto\" placeholder=\"Escribe nombre...\" onChangeText={handleName}  />\n     <TouchableOpacity onPress={submitPuntos} >\n       <Text>Aceptar</Text>\n     </TouchableOpacity>   \n     <TouchableOpacity onPress={() => {setMVisibility(false)}} >\n       <Text>Cancelar</Text>\n     </TouchableOpacity>\n     </Modal>\n    <View style={styles.guardar}> \n     <TouchableOpacity onPress={() => {setMVisibility(true)}} >\n       <Text>Guardar Punto</Text>\n     </TouchableOpacity>\n    </View>\n    <View style={styles.mapa}>\n      <Map posicion={posicion} />\n    </View>\n    <View style={styles.container}>\n      <Text>Pagina Visualizar Determinantes</Text>\n    </View>\n    </>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 15,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  mapa: {\n    flex: 6,\n  },\n  guardar: {\n    flex: 1.5,\n    alignItems: 'center',\n    justifyContent: 'center',\n  }\n});\n"]},"metadata":{},"sourceType":"module"}