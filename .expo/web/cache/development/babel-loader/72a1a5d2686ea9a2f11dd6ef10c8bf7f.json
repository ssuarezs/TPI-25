{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/ssuarezs/Gridman/TPI-25/screens/visDet.js\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { AsyncStorage } from \"react-native-web/dist/index\";\nimport { Modal, Map, Input } from \"./components/index\";\nimport { hallarDet } from \"../Determi/incendios/index\";\nexport default (function (_ref) {\n  var navigation = _ref.navigation;\n  var location = navigation.getParam('location');\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      nombre = _useState2[0],\n      setNombre = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      resultado = _useState4[0],\n      setResultado = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      puntos = _useState6[0],\n      setPuntos = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      mVisibility = _useState8[0],\n      setMVisibility = _useState8[1];\n\n  var _useState9 = useState({\n    latitude: 0,\n    longitude: 0\n  }),\n      _useState10 = _slicedToArray(_useState9, 2),\n      posicion = _useState10[0],\n      setPosicion = _useState10[1];\n\n  var confResultado = function confResultado(text) {\n    setResultado(text);\n  };\n\n  var handleName = function handleName(text) {\n    setNombre(text);\n  };\n\n  var obtenerPuntos = function obtenerPuntos() {\n    var obtenidos, listaPuntos;\n    return _regeneratorRuntime.async(function obtenerPuntos$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('Puntos'));\n\n          case 2:\n            obtenidos = _context.sent;\n            listaPuntos = JSON.parse(obtenidos);\n\n            if (listaPuntos !== null) {\n              setPuntos(listaPuntos);\n            }\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var submitPuntos = function submitPuntos() {\n    var newPuntos, treta, guardados;\n    return _regeneratorRuntime.async(function submitPuntos$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            newPuntos = [{\n              coordinate: posicion,\n              name: nombre\n            }];\n            treta = puntos.concat(newPuntos);\n            guardados = JSON.stringify(treta);\n            _context2.next = 5;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem('Puntos', guardados));\n\n          case 5:\n            obtenerPuntos();\n            setNombre('');\n            setMVisibility(false);\n\n          case 8:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function () {\n    setPosicion({\n      latitude: location.latitude,\n      longitude: location.longitude\n    });\n    obtenerPuntos();\n  }, []);\n  var ResDeter = hallarDet(posicion);\n  return React.createElement(React.Fragment, null, React.createElement(Modal, {\n    visibility: mVisibility,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 6\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 8\n    }\n  }, \"Quieres guardar este Punto?\"), React.createElement(Input, {\n    title: \"Nombre Punto\",\n    placeholder: \"Escribe nombre...\",\n    onChangeText: handleName,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 2\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: submitPuntos,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 6\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 8\n    }\n  }, \"Aceptar\")), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      setMVisibility(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 6\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 8\n    }\n  }, \"Cancelar\"))), React.createElement(View, {\n    style: styles.guardar,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      setMVisibility(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 6\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 8\n    }\n  }, \"Guardar Punto\"))), React.createElement(View, {\n    style: styles.mapa,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }, React.createElement(Map, {\n    posicion: posicion,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  })), React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, \"Pagina Visualizar Determinantes\"), React.createElement(Text, {\n    style: styles.parrafo,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, ResDeter)));\n});\nvar styles = StyleSheet.create({\n  container: {\n    flex: 15,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  mapa: {\n    flex: 6\n  },\n  guardar: {\n    flex: 1.5,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  parrafo: {\n    textAlign: 'center'\n  }\n});","map":{"version":3,"sources":["/home/ssuarezs/Gridman/TPI-25/screens/visDet.js"],"names":["React","useState","useEffect","AsyncStorage","Modal","Map","Input","hallarDet","navigation","location","getParam","nombre","setNombre","resultado","setResultado","puntos","setPuntos","mVisibility","setMVisibility","latitude","longitude","posicion","setPosicion","confResultado","text","handleName","obtenerPuntos","getItem","obtenidos","listaPuntos","JSON","parse","submitPuntos","newPuntos","coordinate","name","treta","concat","guardados","stringify","setItem","ResDeter","styles","guardar","mapa","container","parrafo","StyleSheet","create","flex","backgroundColor","alignItems","justifyContent","textAlign"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { StyleSheet, Text, View } from 'react-native';\nimport { TouchableOpacity, AsyncStorage } from 'react-native';\n\nimport { Modal, Map, Input } from './components/index' \nimport { hallarDet } from '../Determi/incendios/index' \n\nexport default ({navigation}) => {\n\n  const location = navigation.getParam('location')\n\n  const [nombre, setNombre] = useState('')\n  const [resultado, setResultado] = useState('')\n  const [puntos, setPuntos] = useState([])\n  const [mVisibility, setMVisibility] = useState(false)\n  const [posicion, setPosicion] = useState({\n    latitude: 0,\n    longitude: 0,\n  })\n  \n  const confResultado = (text) => {\n    setResultado(text)\n  }\n\n  const handleName = (text) => {\n    setNombre(text)\n  }\n \n  const obtenerPuntos = async () => {\n    const obtenidos = await AsyncStorage.getItem('Puntos')\n    const listaPuntos= JSON.parse(obtenidos)\n    if(listaPuntos !== null){\n      setPuntos(listaPuntos)\n    }\n  }\n\n\n  const submitPuntos = async () => {\n    const newPuntos = [{\n      coordinate: posicion, \n      name: nombre\n    }]\n    const treta= puntos.concat(newPuntos)\n    const guardados = JSON.stringify(treta)\n    await AsyncStorage.setItem(\n      'Puntos',\n      guardados\n    )\n    obtenerPuntos()\n    setNombre('')\n    setMVisibility(false)\n  }\n\n  useEffect(() => {\n    setPosicion({ \n\tlatitude: location.latitude,\n\tlongitude: location.longitude,\n      })\n    obtenerPuntos()\n  }, [])\n\n  const ResDeter = hallarDet(posicion);\n\n   return (\n    <>\n     <Modal visibility={mVisibility}>   \n       <Text>Quieres guardar este Punto?</Text>\n\t<Input title=\"Nombre Punto\" placeholder=\"Escribe nombre...\" onChangeText={handleName}  />\n     <TouchableOpacity onPress={submitPuntos} >\n       <Text>Aceptar</Text>\n     </TouchableOpacity>   \n     <TouchableOpacity onPress={() => {setMVisibility(false)}} >\n       <Text>Cancelar</Text>\n     </TouchableOpacity>\n     </Modal>\n    <View style={styles.guardar}> \n     <TouchableOpacity onPress={() => {setMVisibility(true)}} >\n       <Text>Guardar Punto</Text>\n     </TouchableOpacity>\n    </View>\n    <View style={styles.mapa}>\n      <Map posicion={posicion} >\n     </Map>\n    </View>\n    <View style={styles.container}>\n      <Text>Pagina Visualizar Determinantes</Text>\n      <Text style={styles.parrafo}>{ResDeter}</Text>\n    </View>\n    </>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 15,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  mapa: {\n    flex: 6,\n  },\n  guardar: {\n    flex: 1.5,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  parrafo: {\n    textAlign: 'center'\n  }\n});\n"]},"metadata":{},"sourceType":"module"}